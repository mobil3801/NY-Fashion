
/* WCAG AA Compliant Styles */
:root {
  /* Enhanced primary colors for AA compliance */
  --primary: 222 47% 20%;          /* Dark primary for AA contrast */
  --primary-foreground: 0 0% 100%; /* White foreground */
  
  /* Accessible text colors - all meeting 4.5:1 minimum contrast ratio */
  --text-default: 222 47% 11%;     /* ~gray-900 equivalent - 13.4:1 ratio */
  --text-strong: 160 97% 20%;      /* emerald-800 equivalent - 8.2:1 ratio */
  --text-muted: 220 9% 35%;        /* gray-700 equivalent - 4.7:1 ratio */
  --text-disabled: 220 14% 41%;    /* gray-600 equivalent - 4.5:1 ratio */
  --text-error: 0 84% 30%;         /* red-700 for errors - 7.3:1 ratio */
  --text-warning: 45 93% 25%;      /* yellow-700 for warnings - 8.1:1 ratio */
  --text-success: 160 81% 25%;     /* green-700 for success - 7.8:1 ratio */
  
  /* Background colors for proper contrast */
  --bg-subtle: 220 14% 96%;        /* gray-50 equivalent */
  --bg-muted: 220 13% 91%;         /* gray-100 equivalent */
  --border-default: 220 13% 87%;   /* gray-200 equivalent */
  --border-muted: 220 13% 91%;     /* gray-100 equivalent */
}

/* AA-compliant text classes */
.text-default-aa { color: hsl(var(--text-default)); }
.text-strong-aa  { color: hsl(var(--text-strong)); }
.text-muted-aa   { color: hsl(var(--text-muted)); }
.text-disabled-aa { color: hsl(var(--text-disabled)); }
.text-error-aa   { color: hsl(var(--text-error)); }
.text-warning-aa { color: hsl(var(--text-warning)); }
.text-success-aa { color: hsl(var(--text-success)); }

/* Replace common failing patterns */
.text-gray-500 { color: hsl(var(--text-muted)) !important; }
.text-gray-600 { color: hsl(var(--text-muted)) !important; }
.opacity-75 { opacity: 1 !important; color: hsl(var(--text-muted)); }
.opacity-80 { opacity: 1 !important; color: hsl(var(--text-muted)); }

/* AA-compliant badge styles */
.badge-aa {
  @apply inline-flex items-center rounded-md text-xs font-semibold px-2.5 py-0.5;
  min-height: 24px; /* Ensure touch target size */
  min-width: 24px;
}

.badge-primary-aa {
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

.badge-destructive-aa,
.badge-error-aa {
  @apply bg-red-100 text-red-900 border border-red-200;
  color: #7f1d1d !important; /* red-900 - 8.9:1 ratio */
}

.badge-warning-aa {
  @apply bg-yellow-100 text-yellow-900 border border-yellow-200;
  color: #78350f !important; /* yellow-900 - 9.2:1 ratio */
}

.badge-success-aa {
  @apply bg-green-100 text-green-900 border border-green-200;
  color: #14532d !important; /* green-900 - 8.1:1 ratio */
}

.badge-info-aa {
  @apply bg-blue-100 text-blue-900 border border-blue-200;
  color: #1e3a8a !important; /* blue-900 - 8.6:1 ratio */
}

.badge-neutral-aa,
.badge-secondary-aa {
  @apply bg-gray-100 text-gray-900 border border-gray-200;
  color: hsl(var(--text-default)) !important;
}

.badge-outline-aa {
  @apply bg-white border border-gray-300 text-gray-900;
  color: hsl(var(--text-default)) !important;
}

/* Improved focus styles for better accessibility */
.focus-aa:focus-visible,
.focus-visible-aa:focus-visible {
  @apply outline-none ring-2 ring-offset-2 ring-blue-500;
  outline: 2px solid #3b82f6 !important;
  outline-offset: 2px !important;
}

/* Status indicator styles with proper contrast */
.status-critical-aa {
  @apply bg-red-600 text-white;
  color: white !important;
}

.status-warning-aa {
  @apply bg-yellow-600 text-white;
  color: white !important;
}

.status-good-aa,
.status-success-aa {
  @apply bg-green-600 text-white;
  color: white !important;
}

.status-info-aa {
  @apply bg-blue-600 text-white;
  color: white !important;
}

/* Enhanced button contrast */
.btn-outline-aa {
  @apply border border-gray-300 bg-white text-gray-900 hover:bg-gray-50;
  color: hsl(var(--text-default)) !important;
}

.btn-outline-aa:hover {
  background-color: hsl(var(--bg-subtle)) !important;
}

.btn-ghost-aa {
  @apply text-gray-900 hover:bg-gray-100;
  color: hsl(var(--text-default)) !important;
}

.btn-ghost-aa:hover {
  background-color: hsl(var(--bg-muted)) !important;
}

/* Progress bar enhancements */
.progress-critical-aa .progress-bar {
  @apply bg-red-600;
}

.progress-warning-aa .progress-bar {
  @apply bg-yellow-600;
}

.progress-good-aa .progress-bar {
  @apply bg-green-600;
}

/* Small text improvements with proper contrast */
.text-small-aa {
  @apply text-sm font-medium;
  color: hsl(var(--text-default)) !important;
  font-size: 13px; /* Slightly larger for better readability */
}

.text-xs-aa {
  @apply text-xs font-medium;
  color: hsl(var(--text-muted)) !important;
  font-size: 12px;
  line-height: 1.4; /* Better line height for readability */
}

/* Connection status indicators */
.connection-online-aa {
  @apply bg-green-100 text-green-900 border-green-200;
  color: #14532d !important;
}

.connection-offline-aa {
  @apply bg-red-100 text-red-900 border-red-200;
  color: #7f1d1d !important;
}

.connection-poor-aa {
  @apply bg-yellow-100 text-yellow-900 border-yellow-200;
  color: #78350f !important;
}

/* Loading state improvements */
.loading-spinner-aa {
  border-color: hsl(var(--primary)) transparent transparent transparent;
}

/* Table improvements */
.table-cell-aa {
  @apply text-sm;
  color: hsl(var(--text-default));
}

.table-header-aa {
  @apply text-sm font-semibold;
  color: hsl(var(--text-default));
}

/* Card improvements */
.card-error-aa {
  @apply border-red-300 bg-red-50;
}

.card-warning-aa {
  @apply border-yellow-300 bg-yellow-50;
}

.card-success-aa {
  @apply border-green-300 bg-green-50;
}

/* Ensure minimum touch target sizes for mobile accessibility */
.touch-target-aa {
  min-height: 44px;
  min-width: 44px;
}

.touch-target-sm-aa {
  min-height: 32px;
  min-width: 32px;
}

/* Form field enhancements */
.form-field-wrapper {
  @apply space-y-1;
}

.form-field-wrapper input[aria-invalid="true"],
.form-field-wrapper textarea[aria-invalid="true"],
.form-field-wrapper select[aria-invalid="true"] {
  @apply border-red-500 focus:border-red-500 focus:ring-red-200;
}

/* Interactive element improvements */
.interactive-aa {
  @apply focus-visible-aa cursor-pointer;
}

.interactive-aa:hover {
  background-color: hsl(var(--bg-subtle));
}

/* Link improvements */
.link-aa {
  color: #1e40af; /* blue-800 - 5.9:1 ratio */
  text-decoration: underline;
}

.link-aa:hover {
  color: #1d4ed8; /* blue-700 - 5.3:1 ratio */
}

.link-aa:focus-visible {
  @apply focus-visible-aa;
}

/* List improvements for better semantics */
.list-semantic-aa {
  list-style: none;
  padding: 0;
}

.list-semantic-aa li {
  position: relative;
  padding-left: 1rem;
}

.list-semantic-aa li:before {
  content: "â€¢";
  position: absolute;
  left: 0;
  color: hsl(var(--text-muted));
}

/* Skip link for keyboard navigation */
.skip-link {
  @apply sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0;
  @apply bg-white text-black p-2 z-50 border border-gray-300;
  color: hsl(var(--text-default)) !important;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .text-muted-aa {
    color: hsl(var(--text-default)) !important;
  }
  
  .badge-aa {
    border: 2px solid currentColor !important;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Dev-only logging guard */
@media screen {
  .dev-only {
    display: none;
  }
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}
